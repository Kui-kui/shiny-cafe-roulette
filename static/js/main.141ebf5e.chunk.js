(this["webpackJsonpshiny-cafe-roulette"]=this["webpackJsonpshiny-cafe-roulette"]||[]).push([[0],{205:function(n,e,t){n.exports=t(391)},210:function(n,e,t){},391:function(n,e,t){"use strict";t.r(e);var a=t(1),r=t.n(a),o=t(66),i=t.n(o),s=t(174),c=t(23),l=(t(210),t(40)),p=t.n(l),d=t(68),m=t(17),u=t(157),f=t(394),b=t(35),g=t(48),h=t(159),x=t(160),v=t.n(x),w={S1:"S1!A1:H40",S2:"S2!A1:F34"},y=function(){var n=Object(d.a)(p.a.mark((function n(e,t){return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:window.gapi.load("client",(function(){window.gapi.client.init({apiKey:"AIzaSyAKXNqz7rb0JesWgufQda8fp-Qw_V78yyE"}).then((function(){window.gapi.client.load("sheets","v4",(function(){window.gapi.client.sheets.spreadsheets.values.get({range:w[e],spreadsheetId:"18QgScq55OUiDA4L886mQnZXZV6XW6KEcKX_scQHGYgk"}).then((function(n){var e=n.result.values,a=e[0].slice(1);t(e.slice(1).map((function(n){var e=Object(h.a)(n),t=e[0],r=e.slice(1);return{color:v()({luminosity:"dark"}),name:t,scores:r.reduce((function(n,e,t){return Object(g.a)({},n,Object(b.a)({},a[t],parseFloat(e.replace(/,/g,"."))||0))}),[])}})))}))}))}))}));case 1:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),k=t(11),j=t(12);function E(){var n=Object(k.a)(["\n  .container {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    height: 100vh;\n  }\n\n  body {\n    background-color: white;\n    overflow: hidden;\n  }\n\n  .error404page {\n    width: 400px;\n    height: 800px;\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n  }\n\n  .body404,\n  .head404,\n  .eyes404,\n  .leftarm404,\n  .rightarm404,\n  .chair404,\n  .leftshoe404,\n  .rightshoe404,\n  .legs404,\n  .laptop404 {\n    background: url(https://s3-us-west-2.amazonaws.com/s.cdpn.io/15979/404-character-new.png)\n      0 0 no-repeat;\n    width: 200px;\n    height: 200px;\n  }\n\n  .newcharacter404,\n  .torso404,\n  .body404,\n  .head404,\n  .eyes404,\n  .leftarm404,\n  .rightarm404,\n  .chair404,\n  .leftshoe404,\n  .rightshoe404,\n  .legs404,\n  .laptop404 {\n    background-size: 750px;\n    position: absolute;\n    display: block;\n  }\n\n  .newcharacter404 {\n    width: 400px;\n    height: 800px;\n    left: 50%;\n    top: 20px;\n    margin-left: -200px;\n  }\n\n  $swayspeed: 20s;\n\n  .torso404 {\n    position: absolute;\n    display: block;\n    top: 138px;\n    left: 0px;\n    width: 389px;\n    height: 252px;\n    animation: sway $swayspeed ease infinite;\n    transform-origin: 50% 100%;\n  }\n\n  .body404 {\n    position: absolute;\n    display: block;\n    top: 0px;\n    left: 0px;\n    width: 389px;\n    height: 253px;\n  }\n\n  .head404 {\n    position: absolute;\n    top: -148px;\n    left: 106px;\n    width: 160px;\n    height: 194px;\n    background-position: 0px -265px;\n    transform-origin: 50% 85%;\n    animation: headTilt $swayspeed ease infinite;\n  }\n\n  .eyes404 {\n    position: absolute;\n    top: 92px;\n    left: 34px;\n    width: 73px;\n    height: 18px;\n    background-position: -162px -350px;\n    animation: blink404 10s steps(1) infinite, pan 10s ease-in-out infinite;\n  }\n\n  .leftarm404 {\n    position: absolute;\n    top: 159px;\n    left: 0;\n    width: 165px;\n    height: 73px;\n    background-position: -265px -341px;\n    transform-origin: 9% 35%;\n    transform: rotateZ(0deg);\n    animation: typeLeft 0.4s linear infinite;\n  }\n\n  .rightarm404 {\n    position: absolute;\n    top: 148px;\n    left: 231px;\n    width: 157px;\n    height: 91px;\n    background-position: -442px -323px;\n    transform-origin: 90% 25%;\n    animation: typeLeft 0.4s linear infinite;\n  }\n\n  .chair404 {\n    position: absolute;\n    top: 430px;\n    left: 55px;\n    width: 260px;\n    height: 365px;\n    background-position: -12px -697px;\n  }\n\n  .legs404 {\n    position: absolute;\n    top: 378px;\n    left: 4px;\n    width: 370px;\n    height: 247px;\n    background-position: -381px -443px;\n  }\n\n  .leftshoe404 {\n    position: absolute;\n    top: 591px;\n    left: 54px;\n    width: 130px;\n    height: 92px;\n    background-position: -315px -749px;\n  }\n\n  .rightshoe404 {\n    position: absolute;\n    top: 594px;\n    left: 187px;\n    width: 135px;\n    height: 81px;\n    background-position: -453px -749px;\n    transform-origin: 35% 12%;\n    animation: tapRight 1s linear infinite;\n  }\n\n  .laptop404 {\n    position: absolute;\n    top: 186px;\n    left: 9px;\n    width: 365px;\n    height: 216px;\n    background-position: -2px -466px;\n    transform-origin: 50% 100%;\n    animation: tapWobble 0.4s linear infinite;\n  }\n\n  @keyframes sway {\n    0% {\n      transform: rotateZ(0deg);\n    }\n    20% {\n      transform: rotateZ(0deg);\n    }\n    25% {\n      transform: rotateZ(4deg);\n    }\n    45% {\n      transform: rotateZ(4deg);\n    }\n    50% {\n      transform: rotateZ(0deg);\n    }\n    70% {\n      transform: rotateZ(0deg);\n    }\n    75% {\n      transform: rotateZ(-4deg);\n    }\n    90% {\n      transform: rotateZ(-4deg);\n    }\n    100% {\n      transform: rotateZ(0deg);\n    }\n  }\n\n  @keyframes headTilt {\n    0% {\n      transform: rotateZ(0deg);\n    }\n    20% {\n      transform: rotateZ(0deg);\n    }\n    25% {\n      transform: rotateZ(-4deg);\n    }\n    35% {\n      transform: rotateZ(-4deg);\n    }\n    38% {\n      transform: rotateZ(2deg);\n    }\n    42% {\n      transform: rotateZ(2deg);\n    }\n    45% {\n      transform: rotateZ(-4deg);\n    }\n    50% {\n      transform: rotateZ(0deg);\n    }\n    70% {\n      transform: rotateZ(0deg);\n    }\n    82% {\n      transform: rotateZ(0deg);\n    }\n    85% {\n      transform: rotateZ(4deg);\n    }\n    90% {\n      transform: rotateZ(4deg);\n    }\n    100% {\n      transform: rotateZ(0deg);\n    }\n  }\n\n  @keyframes typeLeft {\n    0% {\n      transform: rotateZ(0deg);\n    }\n    25% {\n      transform: rotateZ(7deg);\n    }\n    75% {\n      transform: rotateZ(-6deg);\n    }\n    100% {\n      transform: rotateZ(0deg);\n    }\n  }\n\n  @keyframes typeRight {\n    0% {\n      transform: rotateZ(0deg);\n    }\n    25% {\n      transform: rotateZ(-6deg);\n    }\n    75% {\n      transform: rotateZ(7deg);\n    }\n    100% {\n      transform: rotateZ(0deg);\n    }\n  }\n\n  @keyframes tapWobble {\n    0% {\n      transform: rotateZ(-0.2deg);\n    }\n    50% {\n      transform: rotateZ(0.2deg);\n    }\n    100% {\n      transform: rotateZ(-0.2deg);\n    }\n  }\n\n  @keyframes tapRight {\n    0% {\n      transform: rotateZ(0deg);\n    }\n    90% {\n      transform: rotateZ(-6deg);\n    }\n    100% {\n      transform: rotateZ(0deg);\n    }\n  }\n\n  @keyframes blink404 {\n    0% {\n      background-position: -162px -350px;\n    }\n    94% {\n      background-position: -162px -350px;\n    }\n    98% {\n      background-position: -162px -368px;\n    }\n    100% {\n      background-position: -162px -350px;\n    }\n  }\n\n  @keyframes pan {\n    0% {\n      transform: translateX(-2px);\n    }\n    49% {\n      transform: translateX(-2px);\n    }\n    50% {\n      transform: translateX(2px);\n    }\n    99% {\n      transform: translateX(2px);\n    }\n    100% {\n      transform: translateX(-2px);\n    }\n  }\n"]);return E=function(){return n},n}var O=j.a.div(E()),N=function(){return r.a.createElement(O,null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"error404page"},r.a.createElement("div",{className:"newcharacter404"},r.a.createElement("div",{className:"chair404"}),r.a.createElement("div",{className:"leftshoe404"}),r.a.createElement("div",{className:"rightshoe404"}),r.a.createElement("div",{className:"legs404"}),r.a.createElement("div",{className:"torso404"},r.a.createElement("div",{className:"body404"}),r.a.createElement("div",{className:"leftarm404"}),r.a.createElement("div",{className:"rightarm404"}),r.a.createElement("div",{className:"head404"},r.a.createElement("div",{className:"eyes404"}))),r.a.createElement("div",{className:"laptop404"})))))};function Z(){var n=Object(k.a)(["\n  align-items: center;\n  display: flex;\n  height: 100vh;\n  justify-content: center;\n  width: 100%;\n\n  .water {\n    background-color: skyblue;\n    border-radius: 50%;\n    box-shadow: inset 0 0 30px 0 rgba(0, 0, 0, 0.2),\n      0 4px 10px 0 rgba(0, 0, 0, 0.2);\n    height: 200px;\n    overflow: hidden;\n    position: relative;\n    width: 200px;\n  }\n\n  .water:before,\n  .water:after {\n    background-color: #fff;\n    content: '';\n    height: 200px;\n    position: absolute;\n    top: -75px;\n    width: 200px;\n  }\n\n  .water:before {\n    animation: wave 5s linear infinite;\n    background: rgba(255, 255, 255, 0.7);\n    border-radius: 45%;\n  }\n\n  .water:after {\n    animation: wave 5s linear infinite;\n    background: rgba(255, 255, 255, 0.3);\n    border-radius: 35%;\n  }\n\n  @keyframes wave {\n    0% {\n      transform: rotate(0);\n    }\n    100% {\n      transform: rotate(360deg);\n    }\n  }\n"]);return Z=function(){return n},n}var S=j.a.div(Z()),C=function(){return r.a.createElement(S,null,r.a.createElement("div",{className:"water"}))},z=t(393),X=t(398),L=t(395),W=t(396),K=t(397);function A(){var n=Object(k.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n  margin-bottom: 16px;\n\n  .container {\n    align-items: center;\n    border-radius: 8px;\n    display: flex;\n    flex: 1;\n    margin: 0 16px 16px;\n    padding: 8px 16px;\n  }\n\n  .players {\n    display: flex;\n    flex: 1;\n  }\n\n  .rank {\n    font-size: 18px;\n    font-weight: 600;\n  }\n\n  .rankContainer {\n    align-items: center;\n    background-color: white;\n    border-radius: 20px;\n    display: flex;\n    height: 40px;\n    justify-content: center;\n    margin-right: 8px;\n    width: 40px;\n  }\n\n  .goldContainer {\n    background-color: #d4af37;\n  }\n\n  .silverContainer {\n    background-color: #aaa9ad;\n  }\n\n  .bronzeContainer {\n    background-color: #cd7f32;\n  }\n"]);return A=function(){return n},n}var Q=j.a.div(A()),D=Object(z.a)(Object(f.a)("total")),I=function(n){var e=n.data,t=n.score;return e.filter((function(n){return n.total===t}))},P=function(n){var e=n.data.map((function(n){var e=n.name,t=n.scores;return{name:e,total:Object(X.a)(Object(L.a)(t))}})),t=Object(W.a)(D)(e),a=Object(K.a)(t.map(Object(f.a)("total"))).slice(0,3),o=Object(m.a)(a,3),i=o[0],s=o[1],c=o[2],l=I({data:t,score:i}),p=I({data:t,score:s}),d=I({data:t,score:c});return r.a.createElement(Q,null,r.a.createElement("div",{className:"container goldContainer"},r.a.createElement("div",{className:"rankContainer"},r.a.createElement("p",{className:"rank"},"#1")),r.a.createElement("div",{className:"players"},r.a.createElement("p",{className:"names"},l.map(Object(f.a)("name")).join(", ")))),r.a.createElement("div",{className:"container silverContainer"},r.a.createElement("div",{className:"rankContainer"},r.a.createElement("p",{className:"rank"},"#2")),r.a.createElement("div",{className:"players"},r.a.createElement("p",{className:"names"},p.map(Object(f.a)("name")).join(", ")))),r.a.createElement("div",{className:"container bronzeContainer"},r.a.createElement("div",{className:"rankContainer"},r.a.createElement("p",{className:"rank"},"#3")),r.a.createElement("div",{className:"players"},r.a.createElement("p",{className:"names"},d.map(Object(f.a)("name")).join(", ")))))},$=t(76),F=t(51),H=t(173),J=t(25);function R(){var n=Object(k.a)(["\n  display: flex;\n  justify-content: center;\n"]);return R=function(){return n},n}var q=j.a.div(R()),B=function(){var n="object"===typeof window,e=Object(a.useCallback)((function(){return{height:n?window.innerHeight:void 0,width:n?window.innerWidth:void 0}}),[n]),t=Object(a.useState)(e),r=Object(m.a)(t,2),o=r[0],i=r[1];return Object(a.useEffect)((function(){if(!n)return!1;function t(){i(e())}return window.addEventListener("resize",t),function(){return window.removeEventListener("resize",t)}}),[e,n]),o},M=function(n){var e=n.data,t=B(),a=t.height,o=t.width,i=e.map((function(n){var e=n.scores;return Object(F.a)(e).length})),s=i.indexOf(Math.max.apply(Math,Object($.a)(i))),c=Object(F.a)(Object(H.a)([s,"scores"])(e)).map((function(n){var t=e.reduce((function(e,t){var a=parseInt(function(n){return n[1]}(n),10)+1,r=t.name,o=t.scores,i=Object(X.a)(Object(L.a)(o).slice(0,a));return Object(g.a)({},e,Object(b.a)({},r,i))}),{});return Object(g.a)({week:n},t)}));return r.a.createElement(q,null,r.a.createElement(J.d,{data:c,height:a-200,width:o-200},r.a.createElement(J.f,{dataKey:"week",padding:{left:30,right:30}}),r.a.createElement(J.g,{type:"number"}),r.a.createElement(J.a,{strokeDasharray:"0.1 0.1"}),r.a.createElement(J.e,null),e.map((function(n){var e=n.color,t=n.name;return r.a.createElement(J.c,{key:t,activeDot:{r:8},dataKey:t,stroke:e,type:"monotone"})})),r.a.createElement(J.b,null)))};function T(){var n=Object(k.a)(["\n  background-color: ",";\n  border-radius: 10px;\n  border: 1px solid ",";\n  height: 10px;\n  margin-right: 4px;\n  width: 10px;\n"]);return T=function(){return n},n}function V(){var n=Object(k.a)(["\n  padding: 16px;\n  width: 168px;\n\n  .button {\n    color: #505fe3;\n    font-weight: 600;\n    font-size: 16px;\n    padding: 0;\n    border: none;\n    background: none;\n  }\n\n  .buttonContainer {\n    display: flex;\n    justify-content: space-between;\n    margin-bottom: 16px;\n  }\n\n  .label {\n    font-size: 15px;\n    margin-left: 4px;\n  }\n\n  .labelContainer {\n    align-items: center;\n    display: flex;\n    margin-bottom: 4px;\n  }\n\n  .names {\n    margin-bottom: 16px;\n  }\n\n  .title {\n    font-size: 24px;\n    margin-bottom: 16px;\n  }\n"]);return V=function(){return n},n}var _=j.a.div(V()),G=j.a.div(T(),(function(n){var e=n.isSelected,t=n.color;return e?t:"white"}),Object(f.a)("color")),U=function(n){var e=n.data,t=n.selectedPlayers,o=n.selectedSeason,i=n.setSelectedSeason,s=n.setSelectedPlayers,c=Object(a.useCallback)((function(n){return t.includes(n)}),[t]),l=Object(a.useCallback)((function(n){var e=c(n);s(e?t.filter((function(e){return e!==n})):[].concat(Object($.a)(t),[n]))}),[c,t,s]),p=Object(a.useCallback)((function(){s(e.map(Object(f.a)("name")))}),[e,s]),d=Object(a.useCallback)((function(){s([])}),[s]),m=Object(a.useCallback)((function(){i("S1"===o?"S2":"S1")}),[o,i]);return r.a.createElement(_,null,r.a.createElement("p",{className:"title"},"List of players"),r.a.createElement("div",{className:"buttonContainer"},r.a.createElement("button",{className:"button",onClick:p,type:"button"},"Select all"),r.a.createElement("button",{className:"button",onClick:d,type:"button"},"Deselect all")),r.a.createElement("div",{className:"names"},e.map((function(n){var e=n.color,t=n.name,a=n.scores,o=Object(X.a)(Object(L.a)(a));return r.a.createElement("div",{key:t,className:"labelContainer",onClick:function(){return l(t)}},r.a.createElement(G,{color:e,isSelected:c(t)}),r.a.createElement("label",{className:"label",htmlFor:t},"".concat(t," (").concat(o," pts)")))}))),r.a.createElement("button",{className:"button",onClick:m,type:"button"},"S1"===o?"See current season":"See previous season"))};function Y(){var n=Object(k.a)(["\n  padding: 32px 0;\n"]);return Y=function(){return n},n}var nn=j.a.div(Y()),en=function(){var n=Object(a.useState)([]),e=Object(m.a)(n,2),t=e[0],o=e[1],i=Object(a.useState)([]),s=Object(m.a)(i,2),c=s[0],l=s[1],b=Object(a.useState)("S2"),g=Object(m.a)(b,2),h=g[0],x=g[1],v=Object(a.useState)(null),w=Object(m.a)(v,2),k=w[0],j=w[1],E=Object(a.useState)(!0),O=Object(m.a)(E,2),Z=O[0],S=O[1],z=t.filter((function(n){var e=n.name;return c.includes(e)}));return Object(a.useEffect)((function(){(function(){var n=Object(d.a)(p.a.mark((function n(){return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,y(h,(function(n){o(n),l(n.map(Object(f.a)("name"))),S(!1)}));case 3:n.next=8;break;case 5:n.prev=5,n.t0=n.catch(0),j(n.t0);case 8:case"end":return n.stop()}}),n,null,[[0,5]])})));return function(){return n.apply(this,arguments)}})()()}),[h]),Z?r.a.createElement(C,null):k?r.a.createElement(N,null):r.a.createElement(u.a,{docked:!0,sidebar:r.a.createElement(U,{data:t,selectedSeason:h,setSelectedSeason:x,selectedPlayers:c,setSelectedPlayers:l})},r.a.createElement(nn,null,r.a.createElement(P,{data:t}),r.a.createElement(M,{data:z})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(s.a,{basename:"/"},r.a.createElement(c.a,{component:en,exact:!0,path:"/"})),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(n){n.unregister()})).catch((function(n){console.error(n.message)}))}},[[205,1,2]]]);
//# sourceMappingURL=main.141ebf5e.chunk.js.map